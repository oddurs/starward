"use strict";(globalThis.webpackChunkstarward_docs=globalThis.webpackChunkstarward_docs||[]).push([[5023],{8453(e,n,s){s.d(n,{R:()=>d,x:()=>l});var i=s(6540);let t={},r=i.createContext(t);function d(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(r.Provider,{value:n},e.children)}},9219(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>d,metadata:()=>i,toc:()=>a});let i=JSON.parse('{"id":"development/dependencies","title":"Dependencies","description":"Runtime and development dependencies for starward","source":"@site/../docs/development/dependencies.md","sourceDirName":"development","slug":"/development/dependencies","permalink":"/docs/development/dependencies","draft":false,"unlisted":false,"editUrl":"https://github.com/oddurs/starward/tree/master/../docs/development/dependencies.md","tags":[],"version":"current","lastUpdatedBy":"Oddur Sigurdsson","lastUpdatedAt":1768356820000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Dependencies","description":"Runtime and development dependencies for starward"},"sidebar":"development","previous":{"title":"Contributing","permalink":"/docs/development/contributing"},"next":{"title":"Cheatsheet","permalink":"/docs/development/cheatsheet"}}');var t=s(4848),r=s(8453);let d={sidebar_position:4,title:"Dependencies",description:"Runtime and development dependencies for starward"},l="Dependencies",c={},a=[{value:"Runtime Dependencies",id:"runtime-dependencies",level:2},{value:"Why These Dependencies?",id:"why-these-dependencies",level:3},{value:"click",id:"click",level:4},{value:"rich",id:"rich",level:4},{value:"Development Dependencies",id:"development-dependencies",level:2},{value:"Testing Stack",id:"testing-stack",level:3},{value:"pytest",id:"pytest",level:4},{value:"pytest-cov",id:"pytest-cov",level:4},{value:"hypothesis",id:"hypothesis",level:4},{value:"allure-pytest",id:"allure-pytest",level:4},{value:"Code Quality",id:"code-quality",level:3},{value:"mypy",id:"mypy",level:4},{value:"ruff",id:"ruff",level:4},{value:"Documentation Dependencies",id:"documentation-dependencies",level:2},{value:"Why No Astronomy Dependencies?",id:"why-no-astronomy-dependencies",level:2},{value:"Trade-offs",id:"trade-offs",level:3},{value:"Updating Dependencies",id:"updating-dependencies",level:2},{value:"Security",id:"security",level:2}];function h(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"dependencies",children:"Dependencies"})}),"\n",(0,t.jsx)(n.p,{children:"starward is designed with minimal dependencies to remain lightweight and easy to install. All astronomical calculations are implemented from first principles without external astronomy libraries."}),"\n",(0,t.jsx)(n.h2,{id:"runtime-dependencies",children:"Runtime Dependencies"}),"\n",(0,t.jsx)(n.p,{children:"These packages are required to run starward:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Package"}),(0,t.jsx)(n.th,{children:"Version"}),(0,t.jsx)(n.th,{children:"Purpose"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Python"})}),(0,t.jsx)(n.td,{children:"\u22653.9"}),(0,t.jsx)(n.td,{children:"Runtime environment"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"click"})}),(0,t.jsx)(n.td,{children:"\u22658.0"}),(0,t.jsx)(n.td,{children:"CLI framework"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"rich"})}),(0,t.jsx)(n.td,{children:"\u226513.0"}),(0,t.jsx)(n.td,{children:"Terminal formatting and tables"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"why-these-dependencies",children:"Why These Dependencies?"}),"\n",(0,t.jsx)(n.h4,{id:"click",children:"click"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://click.palletsprojects.com/",children:"Click"})," provides a clean, composable CLI framework:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Automatic help generation"}),"\n",(0,t.jsx)(n.li,{children:"Type conversion and validation"}),"\n",(0,t.jsx)(n.li,{children:"Nested command groups"}),"\n",(0,t.jsx)(n.li,{children:"Shell completion support"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'@click.command()\n@click.option(\'--date\', type=click.DateTime(), help=\'Target date\')\ndef sun(date):\n    """Calculate sun position."""\n    pass\n'})}),"\n",(0,t.jsx)(n.h4,{id:"rich",children:"rich"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://rich.readthedocs.io/",children:"Rich"})," enables beautiful terminal output:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tables with Unicode box-drawing"}),"\n",(0,t.jsx)(n.li,{children:"Syntax highlighting"}),"\n",(0,t.jsx)(n.li,{children:"Progress bars"}),"\n",(0,t.jsx)(n.li,{children:"Markdown rendering"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from rich.console import Console\nfrom rich.table import Table\n\nconsole = Console()\ntable = Table(title="Sun Position")\ntable.add_column("Property", style="cyan")\ntable.add_column("Value", style="green")\ntable.add_row("RA", "18h 45m 23s")\nconsole.print(table)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"development-dependencies",children:"Development Dependencies"}),"\n",(0,t.jsxs)(n.p,{children:["Install with: ",(0,t.jsx)(n.code,{children:'pip install -e ".[dev]"'})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Package"}),(0,t.jsx)(n.th,{children:"Version"}),(0,t.jsx)(n.th,{children:"Purpose"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"pytest"})}),(0,t.jsx)(n.td,{children:"\u22657.0"}),(0,t.jsx)(n.td,{children:"Test framework"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"pytest-cov"})}),(0,t.jsx)(n.td,{children:"\u22654.0"}),(0,t.jsx)(n.td,{children:"Coverage reporting"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"hypothesis"})}),(0,t.jsx)(n.td,{children:"\u22656.0"}),(0,t.jsx)(n.td,{children:"Property-based testing"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"mypy"})}),(0,t.jsx)(n.td,{children:"\u22651.0"}),(0,t.jsx)(n.td,{children:"Static type checking"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"ruff"})}),(0,t.jsx)(n.td,{children:"\u22650.1"}),(0,t.jsx)(n.td,{children:"Linting and formatting"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"allure-pytest"})}),(0,t.jsx)(n.td,{children:"\u22652.13.0"}),(0,t.jsx)(n.td,{children:"Test reporting"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"testing-stack",children:"Testing Stack"}),"\n",(0,t.jsx)(n.h4,{id:"pytest",children:"pytest"}),"\n",(0,t.jsx)(n.p,{children:"The de facto standard Python test framework:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def test_julian_date():\n    jd = JulianDate(2451545.0)\n    assert jd.jd == 2451545.0\n"})}),"\n",(0,t.jsx)(n.h4,{id:"pytest-cov",children:"pytest-cov"}),"\n",(0,t.jsx)(n.p,{children:"Integrates coverage.py with pytest:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pytest --cov=starward --cov-report=html\n"})}),"\n",(0,t.jsx)(n.h4,{id:"hypothesis",children:"hypothesis"}),"\n",(0,t.jsx)(n.p,{children:"Property-based testing for edge cases:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from hypothesis import given, strategies as st\n\n@given(st.floats(min_value=-90, max_value=90))\ndef test_latitude_bounds(lat):\n    angle = Angle(degrees=lat)\n    assert -90 <= angle.degrees <= 90\n"})}),"\n",(0,t.jsx)(n.h4,{id:"allure-pytest",children:"allure-pytest"}),"\n",(0,t.jsx)(n.p,{children:"Rich HTML test reports with step-by-step breakdowns:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import allure\n\n@allure.title("Sun position calculation")\ndef test_sun_position():\n    with allure.step("Calculate position"):\n        pos = sun_position(jd)\n    with allure.step("Verify coordinates"):\n        assert pos.ra.degrees > 0\n'})}),"\n",(0,t.jsx)(n.h3,{id:"code-quality",children:"Code Quality"}),"\n",(0,t.jsx)(n.h4,{id:"mypy",children:"mypy"}),"\n",(0,t.jsx)(n.p,{children:"Static type checking catches errors before runtime:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mypy src/starward/\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Configuration in ",(0,t.jsx)(n.code,{children:"pyproject.toml"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-toml",children:'[tool.mypy]\npython_version = "3.9"\nstrict = true\nwarn_return_any = true\n'})}),"\n",(0,t.jsx)(n.h4,{id:"ruff",children:"ruff"}),"\n",(0,t.jsx)(n.p,{children:"Fast linting and formatting (replaces flake8, isort, black):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ruff check src/        # Lint\nruff check --fix src/  # Auto-fix\nruff format src/       # Format\n"})}),"\n",(0,t.jsx)(n.h2,{id:"documentation-dependencies",children:"Documentation Dependencies"}),"\n",(0,t.jsx)(n.p,{children:"The documentation site uses:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Package"}),(0,t.jsx)(n.th,{children:"Purpose"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Docusaurus"})}),(0,t.jsx)(n.td,{children:"Static site generator"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"TypeScript"})}),(0,t.jsx)(n.td,{children:"Configuration typing"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Sass"})}),(0,t.jsx)(n.td,{children:"Custom styling"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"KaTeX"})}),(0,t.jsx)(n.td,{children:"Math rendering"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Prism"})}),(0,t.jsx)(n.td,{children:"Syntax highlighting"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Install documentation dependencies:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd website\nnpm install\n"})}),"\n",(0,t.jsx)(n.h2,{id:"why-no-astronomy-dependencies",children:"Why No Astronomy Dependencies?"}),"\n",(0,t.jsx)(n.p,{children:"starward intentionally avoids external astronomy libraries like Astropy, Skyfield, or PyEphem. This is a deliberate design choice:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Educational Value"})," \u2014 Implementing algorithms from scratch teaches computational astronomy"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Transparency"})," \u2014 Every calculation can be traced and understood"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lightweight"})," \u2014 Minimal install size and startup time"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Control"})," \u2014 Full control over precision and algorithm choices"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"trade-offs",children:"Trade-offs"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Aspect"}),(0,t.jsx)(n.th,{children:"With Dependencies"}),(0,t.jsx)(n.th,{children:"Without (starward)"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Accuracy"}),(0,t.jsx)(n.td,{children:"Higher (SPICE kernels)"}),(0,t.jsx)(n.td,{children:"Good (analytical)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Install size"}),(0,t.jsx)(n.td,{children:"Large (~100MB+)"}),(0,t.jsx)(n.td,{children:"Small (~200KB)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Startup time"}),(0,t.jsx)(n.td,{children:"Slow (data loading)"}),(0,t.jsx)(n.td,{children:"Fast"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Learning"}),(0,t.jsx)(n.td,{children:"Black box"}),(0,t.jsx)(n.td,{children:"Transparent"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Maintenance"}),(0,t.jsx)(n.td,{children:"External updates"}),(0,t.jsx)(n.td,{children:"Self-contained"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"For applications requiring arcsecond precision, consider Astropy or Skyfield. For learning, CLI usage, and moderate precision, starward provides an excellent balance."}),"\n",(0,t.jsx)(n.h2,{id:"updating-dependencies",children:"Updating Dependencies"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Check for updates\npip list --outdated\n\n# Update specific package\npip install --upgrade click\n\n# Update all dev dependencies\npip install --upgrade -e ".[dev]"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,t.jsx)(n.p,{children:"Dependencies are monitored for vulnerabilities:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check for known vulnerabilities\npip audit\n"})}),"\n",(0,t.jsx)(n.p,{children:"Report security issues privately via GitHub."})]})}function o(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);