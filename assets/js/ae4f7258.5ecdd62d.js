"use strict";(globalThis.webpackChunkstarward_docs=globalThis.webpackChunkstarward_docs||[]).push([[3087],{8453(e,n,r){r.d(n,{R:()=>t,x:()=>a});var s=r(6540);let o={},i=s.createContext(o);function t(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(i.Provider,{value:n},e.children)}},9447(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});let s=JSON.parse('{"id":"module-guides/observer","title":"Observer Module","description":"The Observer module manages observing locations with support for persistent storage, timezone handling, and seamless integration with all position-dependent calculations.","source":"@site/../docs/module-guides/observer.md","sourceDirName":"module-guides","slug":"/module-guides/observer","permalink":"/docs/module-guides/observer","draft":false,"unlisted":false,"editUrl":"https://github.com/oddurs/starward/tree/master/../docs/module-guides/observer.md","tags":[],"version":"current","lastUpdatedBy":"Oddur Sigurdsson","lastUpdatedAt":1768281447000,"sidebarPosition":7,"frontMatter":{"id":"observer","title":"Observer Module","sidebar_label":"Observer","sidebar_position":7},"sidebar":"docs","previous":{"title":"Planets","permalink":"/docs/module-guides/planets"},"next":{"title":"Visibility","permalink":"/docs/module-guides/visibility"}}');var o=r(4848),i=r(8453);let t={id:"observer",title:"Observer Module",sidebar_label:"Observer",sidebar_position:7},a="Observer Module",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"CLI Usage",id:"cli-usage",level:3},{value:"Python API",id:"python-api",level:3},{value:"Creating Observers",id:"creating-observers",level:2},{value:"From Decimal Degrees",id:"from-decimal-degrees",level:3},{value:"Coordinate Conventions",id:"coordinate-conventions",level:3},{value:"Observer Properties",id:"observer-properties",level:2},{value:"Persistent Storage",id:"persistent-storage",level:2},{value:"Observer Manager",id:"observer-manager",level:3},{value:"Configuration File",id:"configuration-file",level:3},{value:"Well-Known Observatories",id:"well-known-observatories",level:2},{value:"Integration with Other Modules",id:"integration-with-other-modules",level:2},{value:"Sun Module",id:"sun-module",level:3},{value:"Moon Module",id:"moon-module",level:3},{value:"Visibility Module",id:"visibility-module",level:3},{value:"Coordinate Transformations",id:"coordinate-transformations",level:3},{value:"Elevation Effects",id:"elevation-effects",level:2},{value:"Timezone Handling",id:"timezone-handling",level:2},{value:"Serialization",id:"serialization",level:2},{value:"CLI Reference",id:"cli-reference",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"observer-module",children:"Observer Module"})}),"\n",(0,o.jsx)(n.p,{children:"The Observer module manages observing locations with support for persistent storage, timezone handling, and seamless integration with all position-dependent calculations."}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"Your position on Earth fundamentally shapes what you see in the sky. The Observer module provides:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Location management with latitude, longitude, and elevation"}),"\n",(0,o.jsx)(n.li,{children:"Named observer profiles stored in TOML configuration"}),"\n",(0,o.jsx)(n.li,{children:"Timezone support for local time conversions"}),"\n",(0,o.jsx)(n.li,{children:"Integration with rise/set, transit, and visibility calculations"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,o.jsx)(n.h3,{id:"cli-usage",children:"CLI Usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Add a new observer location\nstarward observer add "Backyard" 40.7128 -74.0060 --elevation 10 --timezone "America/New_York"\n\n# List saved observers\nstarward observer list\n\n# Show observer details\nstarward observer show "Backyard"\n\n# Set default observer\nstarward observer default "Backyard"\n\n# Remove an observer\nstarward observer remove "Backyard"\n'})}),"\n",(0,o.jsx)(n.h3,{id:"python-api",children:"Python API"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'from starward.core.observer import Observer, ObserverManager\n\n# Create an observer directly\ngreenwich = Observer.from_degrees(\n    name="Greenwich",\n    latitude=51.4772,\n    longitude=-0.0005,\n    elevation=62.0,\n    timezone="Europe/London"\n)\n\n# Use in calculations\nfrom starward.core.sun import sunrise, sunset\nfrom starward.core.time import jd_now\n\njd = jd_now()\nrise = sunrise(greenwich, jd)\nprint(f"Sunrise at {greenwich.name}: {rise.to_datetime()}")\n'})}),"\n",(0,o.jsx)(n.h2,{id:"creating-observers",children:"Creating Observers"}),"\n",(0,o.jsx)(n.h3,{id:"from-decimal-degrees",children:"From Decimal Degrees"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# Northern hemisphere, eastern longitude\ntokyo = Observer.from_degrees(\n    name="Tokyo",\n    latitude=35.6762,\n    longitude=139.6503,\n    elevation=40.0,\n    timezone="Asia/Tokyo"\n)\n\n# Southern hemisphere, western longitude\nparanal = Observer.from_degrees(\n    name="Paranal",\n    latitude=-24.6253,\n    longitude=-70.4043,\n    elevation=2635.0,\n    timezone="America/Santiago"\n)\n'})}),"\n",(0,o.jsx)(n.h3,{id:"coordinate-conventions",children:"Coordinate Conventions"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Parameter"}),(0,o.jsx)(n.th,{children:"Range"}),(0,o.jsx)(n.th,{children:"Convention"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Latitude"}),(0,o.jsx)(n.td,{children:"-90\xb0 to +90\xb0"}),(0,o.jsx)(n.td,{children:"+ = North, - = South"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Longitude"}),(0,o.jsx)(n.td,{children:"-180\xb0 to +180\xb0"}),(0,o.jsx)(n.td,{children:"+ = East, - = West"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Elevation"}),(0,o.jsx)(n.td,{children:"\u22650 meters"}),(0,o.jsx)(n.td,{children:"Above sea level"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"observer-properties",children:"Observer Properties"}),"\n",(0,o.jsxs)(n.p,{children:["An ",(0,o.jsx)(n.code,{children:"Observer"})," object provides:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'obs = Observer.from_degrees("Test", 40.0, -74.0, elevation=100.0)\n\n# Access properties\nprint(obs.name)        # "Test"\nprint(obs.lat_deg)     # 40.0\nprint(obs.lon_deg)     # -74.0\nprint(obs.elevation)   # 100.0\nprint(obs.timezone)    # None or timezone string\n\n# As Angle objects (for calculations)\nprint(obs.latitude)    # Angle object\nprint(obs.longitude)   # Angle object\n'})}),"\n",(0,o.jsx)(n.h2,{id:"persistent-storage",children:"Persistent Storage"}),"\n",(0,o.jsx)(n.h3,{id:"observer-manager",children:"Observer Manager"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"ObserverManager"})," handles saving and loading observer profiles:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'from starward.core.observer import ObserverManager\n\n# Get the manager (creates ~/.starward/ if needed)\nmanager = ObserverManager()\n\n# Add an observer\nobs = Observer.from_degrees("Home", 40.0, -74.0)\nmanager.add(obs)\n\n# List all observers\nfor name in manager.list_names():\n    print(name)\n\n# Get an observer by name\nhome = manager.get("Home")\n\n# Set default observer\nmanager.set_default("Home")\n\n# Get default observer\ndefault = manager.get_default()\n\n# Remove an observer\nmanager.remove("Home")\n'})}),"\n",(0,o.jsx)(n.h3,{id:"configuration-file",children:"Configuration File"}),"\n",(0,o.jsxs)(n.p,{children:["Observers are stored in ",(0,o.jsx)(n.code,{children:"~/.starward/observers.toml"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'# Default observer\ndefault = "Home"\n\n[observers.Home]\nname = "Home"\nlatitude = 40.0\nlongitude = -74.0\nelevation = 100.0\ntimezone = "America/New_York"\n\n[observers.MaunaKea]\nname = "Mauna Kea"\nlatitude = 19.8208\nlongitude = -155.4681\nelevation = 4207.0\ntimezone = "Pacific/Honolulu"\n'})}),"\n",(0,o.jsx)(n.h2,{id:"well-known-observatories",children:"Well-Known Observatories"}),"\n",(0,o.jsx)(n.p,{children:"Some famous observatory locations:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# Major observatories\nmauna_kea = Observer.from_degrees(\n    "Mauna Kea", 19.8208, -155.4681, 4207.0, "Pacific/Honolulu"\n)\n\nparanal = Observer.from_degrees(\n    "Paranal (VLT)", -24.6253, -70.4043, 2635.0, "America/Santiago"\n)\n\nla_palma = Observer.from_degrees(\n    "Roque de los Muchachos", 28.7569, -17.8925, 2396.0, "Atlantic/Canary"\n)\n\ngreenwich = Observer.from_degrees(\n    "Royal Observatory Greenwich", 51.4772, -0.0005, 62.0, "Europe/London"\n)\n'})}),"\n",(0,o.jsx)(n.h2,{id:"integration-with-other-modules",children:"Integration with Other Modules"}),"\n",(0,o.jsx)(n.h3,{id:"sun-module",children:"Sun Module"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from starward.core.sun import sunrise, sunset, solar_noon\n\nrise = sunrise(observer, jd)\nset_t = sunset(observer, jd)\nnoon = solar_noon(observer, jd)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"moon-module",children:"Moon Module"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from starward.core.moon import moonrise, moonset, moon_altitude\n\nrise = moonrise(observer, jd)\nalt = moon_altitude(observer, jd)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"visibility-module",children:"Visibility Module"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from starward.core.visibility import (\n    target_altitude, transit_time, compute_visibility\n)\n\nalt = target_altitude(target_coord, observer, jd)\ntransit = transit_time(target_coord, observer, jd)\nvis = compute_visibility(target_coord, observer, jd)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"coordinate-transformations",children:"Coordinate Transformations"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from starward.core.coords import HorizontalCoord\n\n# ICRS to horizontal (requires observer location)\nhoriz = HorizontalCoord.from_icrs(\n    icrs_coord,\n    jd=jd,\n    lat=observer.latitude,\n    lon=observer.longitude\n)\n"})}),"\n",(0,o.jsx)(n.h2,{id:"elevation-effects",children:"Elevation Effects"}),"\n",(0,o.jsx)(n.p,{children:"Higher elevation affects:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Horizon"}),": Geometric horizon is depressed below eye level"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Refraction"}),": Slightly different atmospheric path"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Airmass"}),": Thinner atmosphere means lower airmass at same zenith angle"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# Observer at sea level vs mountain\nsea_level = Observer.from_degrees("Beach", 40.0, -74.0, elevation=0)\nmountain = Observer.from_degrees("Summit", 40.0, -74.0, elevation=3000)\n\n# Rise/set times will differ slightly\n'})}),"\n",(0,o.jsx)(n.h2,{id:"timezone-handling",children:"Timezone Handling"}),"\n",(0,o.jsx)(n.p,{children:'Timezones use IANA timezone names (e.g., "America/New_York"):'}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'obs = Observer.from_degrees(\n    "New York",\n    40.7128, -74.0060,\n    timezone="America/New_York"\n)\n\n# All internal times are UTC/JD\n# Use timezone for display purposes\n'})}),"\n",(0,o.jsx)(n.h2,{id:"serialization",children:"Serialization"}),"\n",(0,o.jsx)(n.p,{children:"Convert to dictionary for storage or transmission:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# To dictionary\nd = observer.to_dict()\n# {\n#     'name': 'Home',\n#     'latitude': 40.0,\n#     'longitude': -74.0,\n#     'elevation': 100.0,\n#     'timezone': 'America/New_York'\n# }\n\n# From dictionary\nobs = Observer.from_dict(d)\n"})}),"\n",(0,o.jsx)(n.h2,{id:"cli-reference",children:"CLI Reference"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Add observer\nstarward observer add NAME LAT LON [--elevation M] [--timezone TZ]\n\n# List observers\nstarward observer list [--json]\n\n# Show observer\nstarward observer show NAME [--json]\n\n# Set default\nstarward observer default NAME\n\n# Remove observer\nstarward observer remove NAME\n"})}),"\n",(0,o.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/module-guides/sun",children:"Sun Module"})," - Uses observer for rise/set"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/module-guides/moon",children:"Moon Module"})," - Uses observer for rise/set"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/module-guides/visibility",children:"Visibility Module"})," - Uses observer for all calculations"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);