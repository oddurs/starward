<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ecosystem-analysis" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>starward Ecosystem Analysis | starward</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true property=og:image content=https://starward.dev/img/starward-social-card.png /><meta data-rh=true name=twitter:image content=https://starward.dev/img/starward-social-card.png /><meta data-rh=true property=og:url content=https://starward.dev/docs/ecosystem-analysis /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=keywords content="astronomy, python, cli, julian date, coordinates, sun, moon, planets, ephemeris"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="starward Ecosystem Analysis | starward"/><meta data-rh=true name=description content="An analysis of starward's position in the Python astronomy ecosystem alongside astropy and astroquery."/><meta data-rh=true property=og:description content="An analysis of starward's position in the Python astronomy ecosystem alongside astropy and astroquery."/><link data-rh=true rel=icon href=/img/favicon.ico /><link data-rh=true rel=canonical href=https://starward.dev/docs/ecosystem-analysis /><link data-rh=true rel=alternate href=https://starward.dev/docs/ecosystem-analysis hreflang=en /><link data-rh=true rel=alternate href=https://starward.dev/docs/ecosystem-analysis hreflang=x-default /><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="starward RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="starward Atom Feed"><script type=application/ld+json>{"@context":"https://schema.org/","@type":"SoftwareApplication","applicationCategory":"DeveloperApplication","description":"Professional astronomy calculation toolkit for Python","name":"starward","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"operatingSystem":"Cross-platform","url":"https://starward.dev"}</script><link rel=apple-touch-icon sizes=180x180 href=/img/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css type=text/css integrity=sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css type=text/css><link rel=stylesheet href=/assets/css/styles.9fcc7cdd.css /><script src=/assets/js/runtime~main.a66104b7.js defer></script><script src=/assets/js/main.89a6b9c6.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t;document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo.svg alt="starward logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/img/logo.svg alt="starward logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div></a><a class="navbar__item navbar__link" href=/docs>Documentation</a><a class="navbar__item navbar__link" href=/docs/development/overview>Development</a><a class="navbar__item navbar__link" href=/blog>Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/oddurs/starward target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><a href=https://pypi.org/project/starward/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">PyPI<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class=navbarSearchContainer_Bca1><div class="navbar__search searchBarContainer_NW3z" dir=ltr><input placeholder=Search aria-label=Search class=navbar__search-input value="" /><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>starward Ecosystem Analysis</h1></header>
<blockquote>
<p>An analysis of starward's position in the Python astronomy ecosystem alongside astropy and astroquery.</p>
</blockquote>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=executive-summary>Executive Summary<a href=#executive-summary class=hash-link aria-label="Direct link to Executive Summary" title="Direct link to Executive Summary" translate=no>​</a></h2>
<p>starward occupies a unique niche in the Python astronomy ecosystem. While <strong>astropy</strong> serves as the comprehensive, enterprise-grade foundation and <strong>astroquery</strong> provides unified access to remote astronomical databases, starward focuses on <strong>transparent, educational, pure-Python astronomical calculations</strong> with a "show your work" philosophy.</p>
<table><thead><tr><th>Aspect<th>astropy<th>astroquery<th>starward<tbody><tr><td><strong>Primary Purpose</strong><td>Core astronomy infrastructure<td>Remote data access<td>Transparent calculations<tr><td><strong>Philosophy</strong><td>Comprehensive & performant<td>Unified API for services<td>Educational & inspectable<tr><td><strong>Dependencies</strong><td>NumPy, ERFA (C library)<td>astropy + requests<td>Pure Python (click, rich)<tr><td><strong>Target User</strong><td>Professional astronomers<td>Data-driven researchers<td>Learners, educators, CLI users<tr><td><strong>Complexity</strong><td>High (steep learning curve)<td>Medium<td>Low (immediate productivity)</table>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=the-ecosystem-players>The Ecosystem Players<a href=#the-ecosystem-players class=hash-link aria-label="Direct link to The Ecosystem Players" title="Direct link to The Ecosystem Players" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=astropy-v720>astropy (v7.2.0)<a href=#astropy-v720 class=hash-link aria-label="Direct link to astropy (v7.2.0)" title="Direct link to astropy (v7.2.0)" translate=no>​</a></h3>
<p>The <strong>de facto standard</strong> for Python astronomy. A community-driven project providing foundational infrastructure.</p>
<p><strong>Core Modules:</strong></p>
<ul>
<li class=""><strong>Units & Quantities</strong>: Physical units with automatic conversion</li>
<li class=""><strong>Coordinates</strong>: Comprehensive coordinate frame transformations (ICRS, Galactic, AltAz, etc.)</li>
<li class=""><strong>Time</strong>: High-precision time handling (dual 64-bit floats for nanosecond accuracy over Gyr)</li>
<li class=""><strong>Tables</strong>: Astronomy-focused tabular data (like pandas but for FITS)</li>
<li class=""><strong>FITS I/O</strong>: Reading/writing FITS files (images, tables, headers)</li>
<li class=""><strong>WCS</strong>: World Coordinate System transformations</li>
<li class=""><strong>Modeling</strong>: Mathematical model fitting framework</li>
<li class=""><strong>Cosmology</strong>: Cosmological distance calculations</li>
</ul>
<p><strong>Strengths:</strong></p>
<ul>
<li class="">Industry standard, widely adopted</li>
<li class="">Extremely comprehensive</li>
<li class="">High performance (C extensions via ERFA)</li>
<li class="">Excellent documentation</li>
<li class="">Large community and ecosystem</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li class="">Heavy dependency footprint</li>
<li class="">Steep learning curve</li>
<li class="">Opaque calculations (no "show your work")</li>
<li class="">Overkill for simple tasks</li>
</ul>
<p><strong>Sources:</strong> <a href=https://www.astropy.org/ target=_blank rel="noopener noreferrer" class="">astropy.org</a>, <a href=https://docs.astropy.org/en/stable/index.html target=_blank rel="noopener noreferrer" class="">docs</a>, <a href=https://pypi.org/project/astropy/ target=_blank rel="noopener noreferrer" class="">PyPI</a></p>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=astroquery-v0411>astroquery (v0.4.11)<a href=#astroquery-v0411 class=hash-link aria-label="Direct link to astroquery (v0.4.11)" title="Direct link to astroquery (v0.4.11)" translate=no>​</a></h3>
<p>A <strong>unified interface</strong> to astronomical databases and archives. An astropy affiliated package.</p>
<p><strong>Supported Services (40+):</strong></p>
<ul>
<li class=""><strong>Catalogs</strong>: SIMBAD, VizieR, NED, SDSS, GAMA, UKIDSS</li>
<li class=""><strong>Space Archives</strong>: MAST (HST, JWST), ESO, Gemini, ALMA, Gaia, XMM-Newton</li>
<li class=""><strong>Spectroscopy</strong>: HITRAN, JPL Spectroscopy, Splatalogue, NIST</li>
<li class=""><strong>Solar System</strong>: JPL Horizons, Minor Planet Center</li>
<li class=""><strong>Other</strong>: NASA ADS, Astrometry.net, SkyView image cutouts</li>
</ul>
<p><strong>Strengths:</strong></p>
<ul>
<li class="">Unified API across all services</li>
<li class="">Continuous deployment model</li>
<li class="">Reproducible data workflows</li>
<li class="">Handles authentication for proprietary data</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li class="">Requires astropy</li>
<li class="">Network-dependent</li>
<li class="">API changes with upstream services</li>
<li class="">No offline capability</li>
</ul>
<p><strong>Sources:</strong> <a href=https://astroquery.readthedocs.io/ target=_blank rel="noopener noreferrer" class="">astroquery docs</a>, <a href=https://pypi.org/project/astroquery/ target=_blank rel="noopener noreferrer" class="">PyPI</a>, <a href=https://github.com/astropy/astroquery target=_blank rel="noopener noreferrer" class="">GitHub</a></p>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=starward-v030>starward (v0.3.0)<a href=#starward-v030 class=hash-link aria-label="Direct link to starward (v0.3.0)" title="Direct link to starward (v0.3.0)" translate=no>​</a></h3>
<p>A <strong>transparent, educational astronomy toolkit</strong> with CLI-first design.</p>
<p><strong>Core Modules:</strong></p>
<ul>
<li class=""><strong>Time</strong>: Julian dates, MJD, LST, GMST (IAU 2006)</li>
<li class=""><strong>Coordinates</strong>: ICRS, Galactic, Horizontal, Ecliptic transformations</li>
<li class=""><strong>Angles</strong>: Separation (Vincenty), position angle, parsing/formatting</li>
<li class=""><strong>Constants</strong>: 30+ IAU/CODATA constants with references</li>
<li class=""><strong>Sun</strong>: Position, rise/set, twilight (civil/nautical/astronomical)</li>
<li class=""><strong>Moon</strong>: Position, phases, illumination, age</li>
<li class=""><strong>Planets</strong>: Mercury-Neptune positions (Meeus algorithms)</li>
<li class=""><strong>Visibility</strong>: Airmass (Pickering 2002), transit, rise/set</li>
<li class=""><strong>Observer</strong>: Location management with TOML persistence</li>
<li class=""><strong>Messier</strong>: Complete 110-object catalog</li>
</ul>
<p><strong>Strengths:</strong></p>
<ul>
<li class="">Pure Python (no compiled dependencies)</li>
<li class="">"Show your work" verbose mode</li>
<li class="">Immediate CLI productivity</li>
<li class="">Lightweight and portable</li>
<li class="">Educational focus with explicit algorithms</li>
<li class="">Immutable, thread-safe results</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li class="">Smaller feature set</li>
<li class="">No FITS I/O</li>
<li class="">No remote data access</li>
<li class="">Less precise than ERFA-backed calculations</li>
</ul>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=compatibility--integration-analysis>Compatibility & Integration Analysis<a href=#compatibility--integration-analysis class=hash-link aria-label="Direct link to Compatibility & Integration Analysis" title="Direct link to Compatibility & Integration Analysis" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=starward--astropy>starward + astropy<a href=#starward--astropy class=hash-link aria-label="Direct link to starward + astropy" title="Direct link to starward + astropy" translate=no>​</a></h3>
<p><strong>Current State:</strong> No integration. starward is fully independent.</p>
<p><strong>Integration Opportunities:</strong></p>
<table><thead><tr><th>Feature<th>Approach<th>Benefit<tbody><tr><td><strong>Coordinate interop</strong><td>Accept/return <code>astropy.coordinates.SkyCoord</code><td>Seamless data exchange<tr><td><strong>Time interop</strong><td>Accept/return <code>astropy.time.Time</code><td>Use astropy's precision when needed<tr><td><strong>Units awareness</strong><td>Support <code>astropy.units.Quantity</code><td>Unit safety at boundaries<tr><td><strong>Table output</strong><td>Return <code>astropy.table.Table</code><td>Direct pipeline integration</table>
<p><strong>Recommended Strategy:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># Optional astropy interop (don't require it)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>to_skycoord</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">self</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>-</span><span class="token operator" style=color:#aeb9c4>></span><span class="token plain"> </span><span class="token string" style=color:#addbbc>"SkyCoord"</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Convert to astropy SkyCoord if available."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>try</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> astropy</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">coordinates </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> SkyCoord</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> astropy</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">units </span><span class="token keyword" style=color:#228a96>as</span><span class="token plain"> u</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token keyword" style=color:#228a96>return</span><span class="token plain"> SkyCoord</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">ra</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain">self</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">ra</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">degrees</span><span class="token operator" style=color:#aeb9c4>*</span><span class="token plain">u</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">deg</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> dec</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain">self</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">dec</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">degrees</span><span class="token operator" style=color:#aeb9c4>*</span><span class="token plain">u</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">deg</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>except</span><span class="token plain"> ImportError</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token keyword" style=color:#228a96>raise</span><span class="token plain"> ImportError</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token string" style=color:#addbbc>"astropy required for SkyCoord conversion"</span><span class="token punctuation" style=color:#7a8b99>)</span><br/></span></code></pre></div></div>
<p><strong>Key Principle:</strong> astropy should be an <strong>optional</strong> enhancement, never a requirement.</p>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=starward--astroquery>starward + astroquery<a href=#starward--astroquery class=hash-link aria-label="Direct link to starward + astroquery" title="Direct link to starward + astroquery" translate=no>​</a></h3>
<p><strong>Current State:</strong> No integration.</p>
<p><strong>Integration Opportunities:</strong></p>
<table><thead><tr><th>Use Case<th>Implementation<tbody><tr><td><strong>Object lookup</strong><td>Use SIMBAD/NED to resolve names to coordinates<tr><td><strong>Catalog enrichment</strong><td>Pull NGC/IC data from VizieR<tr><td><strong>Ephemeris validation</strong><td>Cross-check against JPL Horizons<tr><td><strong>Image overlays</strong><td>Fetch DSS/SkyView cutouts for targets</table>
<p><strong>Recommended Strategy:</strong></p>
<ul>
<li class="">Keep core starward calculations offline-capable</li>
<li class="">Add optional <code>starward.remote</code> module for astroquery integration</li>
<li class="">Cache remote lookups locally</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># Optional remote module</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token comment" style=color:#44515e># starward/remote/simbad.py</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>resolve_object</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">name</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> </span><span class="token builtin" style=color:#addbbc>str</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>-</span><span class="token operator" style=color:#aeb9c4>></span><span class="token plain"> ICRSCoord</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Resolve object name via SIMBAD."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> astroquery</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">simbad </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> Simbad</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    result </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> Simbad</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">query_object</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">name</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token comment" style=color:#44515e># ... convert to starward.ICRSCoord</span><br/></span></code></pre></div></div>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=how-starward-differentiates>How starward Differentiates<a href=#how-starward-differentiates class=hash-link aria-label="Direct link to How starward Differentiates" title="Direct link to How starward Differentiates" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=1-transparency-show-your-work>1. Transparency ("Show Your Work")<a href=#1-transparency-show-your-work class=hash-link aria-label='Direct link to 1. Transparency ("Show Your Work")' title='Direct link to 1. Transparency ("Show Your Work")' translate=no>​</a></h3>
<p><strong>astropy:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> astropy</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">coordinates </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> SkyCoord</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">coord </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> SkyCoord</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token string" style=color:#addbbc>"10h20m30s"</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token string" style=color:#addbbc>"+40d50m60s"</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> frame</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token string" style=color:#addbbc>'icrs'</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">altaz </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> coord</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">transform_to</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">AltAz</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">obstime</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain">time</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> location</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain">loc</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token comment" style=color:#44515e># Result appears; calculation is opaque</span><br/></span></code></pre></div></div>
<p><strong>starward:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token plain">$ starward </span><span class="token parameter variable" style=color:#6ba77f>--verbose</span><span class="token plain"> coords convert </span><span class="token string" style=color:#addbbc>"10h20m30s +40d50m60s"</span><span class="token plain"> </span><span class="token parameter variable" style=color:#6ba77f>--to</span><span class="token plain"> horizontal</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">═══ Coordinate Transformation ═══</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">Input: ICRS 10h20m30.00s +40°51'00.0"</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">Target: Horizontal </span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">Alt/Az</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">Step </span><span class="token number" style=color:#61bcc6>1</span><span class="token plain">: Convert RA to degrees</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  RA </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> 10h 20m 30s </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token number" style=color:#61bcc6>10</span><span class="token plain"> + </span><span class="token number" style=color:#61bcc6>20</span><span class="token plain">/60 + </span><span class="token number" style=color:#61bcc6>30</span><span class="token plain">/3600</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"> × </span><span class="token number" style=color:#61bcc6>15</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>155.125</span><span class="token plain">°</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">Step </span><span class="token number" style=color:#61bcc6>2</span><span class="token plain">: Calculate Local Sidereal Time</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  GMST </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>280.46061837</span><span class="token plain"> + </span><span class="token number" style=color:#61bcc6>360.98564736629</span><span class="token plain"> × </span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">JD - </span><span class="token number" style=color:#61bcc6>2451545.0</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  </span><span class="token punctuation" style=color:#7a8b99>..</span><span class="token plain">.</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">Step </span><span class="token number" style=color:#61bcc6>3</span><span class="token plain">: Hour Angle</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  HA </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> LST - RA </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>..</span><span class="token plain">.</span><br/></span></code></pre></div></div>
<p>This transparency is <strong>invaluable for education</strong> and <strong>debugging</strong>.</p>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=2-zero-compiled-dependencies>2. Zero Compiled Dependencies<a href=#2-zero-compiled-dependencies class=hash-link aria-label="Direct link to 2. Zero Compiled Dependencies" title="Direct link to 2. Zero Compiled Dependencies" translate=no>​</a></h3>
<table><thead><tr><th>Package<th>Binary Dependencies<tbody><tr><td>astropy<td>NumPy, ERFA (C library), possibly SciPy<tr><td>astroquery<td>astropy + all its dependencies<tr><td>starward<td>None (pure Python)</table>
<p><strong>Benefits:</strong></p>
<ul>
<li class="">Runs anywhere Python runs (including restricted environments)</li>
<li class="">Source is fully inspectable</li>
<li class="">No build failures on obscure platforms</li>
<li class="">Easy to embed in other applications</li>
</ul>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=3-cli-first-design>3. CLI-First Design<a href=#3-cli-first-design class=hash-link aria-label="Direct link to 3. CLI-First Design" title="Direct link to 3. CLI-First Design" translate=no>​</a></h3>
<p>starward is designed as a <strong>command-line tool first</strong>, library second.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># Quick answers without writing code</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">$ starward sun rise </span><span class="token parameter variable" style=color:#6ba77f>--observer</span><span class="token plain"> greenwich</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">Sunrise: 07:42:15 UTC</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">$ starward moon phase</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">Waxing Gibbous </span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token number" style=color:#61bcc6>78</span><span class="token plain">% illuminated</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">$ starward planets all </span><span class="token parameter variable" style=color:#6ba77f>--observer</span><span class="token plain"> home</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">┌─────────┬────────────┬────────────┬───────┬───────────┐</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│ Planet  │ RA         │ Dec        │ Mag   │ Distance  │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">├─────────┼────────────┼────────────┼───────┼───────────┤</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│ Mercury │ 18h42m12s  │ -24°15'32" │ </span><span class="token parameter variable" style=color:#6ba77f>-0.3</span><span class="token plain">  │ </span><span class="token number" style=color:#61bcc6>0.92</span><span class="token plain"> AU   │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token punctuation" style=color:#7a8b99>..</span><span class="token plain">.</span><br/></span></code></pre></div></div>
<p>astropy requires writing Python code for even simple queries.</p>
<hr/>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=4-educational-focus>4. Educational Focus<a href=#4-educational-focus class=hash-link aria-label="Direct link to 4. Educational Focus" title="Direct link to 4. Educational Focus" translate=no>​</a></h3>
<p>starward algorithms are:</p>
<ul>
<li class="">Explicitly documented with source references (Meeus, IAU, USNO)</li>
<li class="">Implemented readably rather than for maximum performance</li>
<li class="">Testable against authoritative sources</li>
<li class="">Designed to teach, not just compute</li>
</ul>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=feature-comparison-matrix>Feature Comparison Matrix<a href=#feature-comparison-matrix class=hash-link aria-label="Direct link to Feature Comparison Matrix" title="Direct link to Feature Comparison Matrix" translate=no>​</a></h2>
<table><thead><tr><th>Feature<th style=text-align:center>astropy<th style=text-align:center>astroquery<th style=text-align:center>starward<tbody><tr><td>Julian Date conversion<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>✅<tr><td>Coordinate transforms<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>✅<tr><td>Solar position<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>✅<tr><td>Lunar position/phase<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>✅<tr><td>Planetary ephemerides<td style=text-align:center>✅ (via jplephem)<td style=text-align:center>✅ (Horizons)<td style=text-align:center>✅ (Meeus)<tr><td>Rise/set/transit<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>✅<tr><td>Airmass<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>✅<tr><td>FITS I/O<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>❌<tr><td>WCS<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>❌<tr><td>Units system<td style=text-align:center>✅<td style=text-align:center>—<td style=text-align:center>❌<tr><td>Remote catalogs<td style=text-align:center>—<td style=text-align:center>✅<td style=text-align:center>❌<tr><td>Image queries<td style=text-align:center>—<td style=text-align:center>✅<td style=text-align:center>❌<tr><td>Spectral lines<td style=text-align:center>—<td style=text-align:center>✅<td style=text-align:center>❌<tr><td>Verbose mode<td style=text-align:center>❌<td style=text-align:center>❌<td style=text-align:center>✅<tr><td>CLI interface<td style=text-align:center>❌<td style=text-align:center>❌<td style=text-align:center>✅<tr><td>Zero dependencies<td style=text-align:center>❌<td style=text-align:center>❌<td style=text-align:center>✅<tr><td>Messier catalog<td style=text-align:center>❌<td style=text-align:center>✅ (VizieR)<td style=text-align:center>✅ (built-in)</table>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=strategic-recommendations>Strategic Recommendations<a href=#strategic-recommendations class=hash-link aria-label="Direct link to Strategic Recommendations" title="Direct link to Strategic Recommendations" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=1-embrace-the-niche>1. Embrace the Niche<a href=#1-embrace-the-niche class=hash-link aria-label="Direct link to 1. Embrace the Niche" title="Direct link to 1. Embrace the Niche" translate=no>​</a></h3>
<p>starward should <strong>not</strong> try to be astropy. Instead, lean into:</p>
<ul>
<li class=""><strong>Education</strong>: The best tool for learning astronomical calculations</li>
<li class=""><strong>Transparency</strong>: The only tool that shows its work</li>
<li class=""><strong>Simplicity</strong>: Immediate answers without boilerplate</li>
<li class=""><strong>Portability</strong>: Runs anywhere, no compilation needed</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=2-optional-integration-not-dependency>2. Optional Integration, Not Dependency<a href=#2-optional-integration-not-dependency class=hash-link aria-label="Direct link to 2. Optional Integration, Not Dependency" title="Direct link to 2. Optional Integration, Not Dependency" translate=no>​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># Good: Optional interop</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">extras_require </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token string" style=color:#addbbc>"astropy"</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token string" style=color:#addbbc>"astropy>=5.0"</span><span class="token punctuation" style=color:#7a8b99>]</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token string" style=color:#addbbc>"remote"</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token string" style=color:#addbbc>"astroquery>=0.4"</span><span class="token punctuation" style=color:#7a8b99>]</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token punctuation" style=color:#7a8b99>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token comment" style=color:#44515e># Bad: Hard dependency</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">install_requires </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token string" style=color:#addbbc>"astropy>=5.0"</span><span class="token punctuation" style=color:#7a8b99>]</span><span class="token plain">  </span><span class="token comment" style=color:#44515e># Don't do this</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=3-features-to-implement-natively>3. Features to Implement Natively<a href=#3-features-to-implement-natively class=hash-link aria-label="Direct link to 3. Features to Implement Natively" title="Direct link to 3. Features to Implement Natively" translate=no>​</a></h3>
<p>These should be in starward core (no external dependencies):</p>
<table><thead><tr><th>Feature<th>Rationale<tbody><tr><td><strong>NGC/IC catalogs</strong><td>Essential DSO data, static dataset<tr><td><strong>Hipparcos bright stars</strong><td>Core star catalog, static dataset<tr><td><strong>Precession/nutation</strong><td>Fundamental calculation<tr><td><strong>Refraction corrections</strong><td>Needed for accurate rise/set<tr><td><strong>Extinction (basic)</strong><td>Galactic extinction models<tr><td><strong>Cosmological distances</strong><td>Hubble law, luminosity distance</table>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=4-features-to-delegate-to-astroquery>4. Features to Delegate to astroquery<a href=#4-features-to-delegate-to-astroquery class=hash-link aria-label="Direct link to 4. Features to Delegate to astroquery" title="Direct link to 4. Features to Delegate to astroquery" translate=no>​</a></h3>
<p>These require network access and change frequently:</p>
<table><thead><tr><th>Feature<th>Why Delegate<tbody><tr><td><strong>SIMBAD lookups</strong><td>Live database, name resolution<tr><td><strong>VizieR queries</strong><td>Massive catalog access<tr><td><strong>JPL Horizons</strong><td>Authoritative ephemerides<tr><td><strong>MAST archives</strong><td>HST/JWST data access</table>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=5-features-to-not-implement>5. Features to NOT Implement<a href=#5-features-to-not-implement class=hash-link aria-label="Direct link to 5. Features to NOT Implement" title="Direct link to 5. Features to NOT Implement" translate=no>​</a></h3>
<p>Leave these to astropy (not worth duplicating):</p>
<table><thead><tr><th>Feature<th>Why Skip<tbody><tr><td><strong>FITS I/O</strong><td>Complex, well-solved by astropy<tr><td><strong>WCS</strong><td>Requires WCSLIB, astropy does it right<tr><td><strong>Full units system</strong><td>Massive undertaking, astropy's is excellent<tr><td><strong>Model fitting</strong><td>scipy/astropy territory</table>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=proposed-integration-architecture>Proposed Integration Architecture<a href=#proposed-integration-architecture class=hash-link aria-label="Direct link to Proposed Integration Architecture" title="Direct link to Proposed Integration Architecture" translate=no>​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│                    User Application                      │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">└─────────────────────────────────────────────────────────┘</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">                            │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        ┌───────────────────┼───────────────────┐</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        ▼                   ▼                   ▼</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">┌───────────────┐   ┌───────────────┐   ┌───────────────┐</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   starward    │   │   starward    │   │   starward    │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   (core)      │   │   .astropy    │   │   .remote     │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│               │   │   (optional)  │   │   (optional)  │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│ Pure Python   │   │ Interop layer │   │ Query layer   │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│ calculations  │   │               │   │               │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">└───────────────┘   └───────┬───────┘   └───────┬───────┘</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">                            │                   │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">                            ▼                   ▼</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">                    ┌───────────────┐   ┌───────────────┐</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">                    │    astropy    │   │  astroquery   │</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">                    └───────────────┘   └───────────────┘</span><br/></span></code></pre></div></div>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=versioning-strategy>Versioning Strategy<a href=#versioning-strategy class=hash-link aria-label="Direct link to Versioning Strategy" title="Direct link to Versioning Strategy" translate=no>​</a></h2>
<table><thead><tr><th>Version<th>Focus<th>astropy/astroquery Integration<tbody><tr><td>v0.4<td>Deep Sky catalogs (NGC, IC, Hipparcos)<td>None (native implementation)<tr><td>v0.5<td>Cosmology, extinction<td>None (native implementation)<tr><td>v0.6<td>Observatory tools<td>Consider optional astropy interop<tr><td>v1.0<td>Stable API<td>Optional <code>starward.astropy</code> module<tr><td>v1.1+<td>Remote data<td>Optional <code>starward.remote</code> module</table>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=conclusion>Conclusion<a href=#conclusion class=hash-link aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate=no>​</a></h2>
<p>starward's value proposition is clear:</p>
<blockquote>
<p><strong>"The astronomy toolkit that shows its work."</strong></p>
</blockquote>
<p>It serves users who:</p>
<ul>
<li class="">Want to <strong>understand</strong> calculations, not just get results</li>
<li class="">Need <strong>quick CLI answers</strong> without writing code</li>
<li class="">Work in <strong>restricted environments</strong> without compiled dependencies</li>
<li class="">Are <strong>learning</strong> astronomy and want inspectable algorithms</li>
<li class="">Value <strong>simplicity</strong> over comprehensiveness</li>
</ul>
<p>The path forward is to:</p>
<ol>
<li class="">Stay independent (no hard dependencies on astropy/astroquery)</li>
<li class="">Offer optional integration for power users</li>
<li class="">Implement core catalogs natively (Messier ✅, NGC, IC, Hipparcos)</li>
<li class="">Delegate live data access to astroquery when needed</li>
<li class="">Never compromise the "show your work" philosophy</li>
</ol>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=architectural-lessons-from-astropyastroquery>Architectural Lessons from astropy/astroquery<a href=#architectural-lessons-from-astropyastroquery class=hash-link aria-label="Direct link to Architectural Lessons from astropy/astroquery" title="Direct link to Architectural Lessons from astropy/astroquery" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=1-module-organization-pattern>1. Module Organization Pattern<a href=#1-module-organization-pattern class=hash-link aria-label="Direct link to 1. Module Organization Pattern" title="Direct link to 1. Module Organization Pattern" translate=no>​</a></h3>
<p><strong>astropy's approach:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token plain">astropy/</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">├── coordinates/     # Each subpackage is self-contained</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   ├── __init__.py  # Public API exports</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   ├── core.py      # Core implementation</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   ├── tests/       # Tests live with the module</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   └── data/        # Module-specific data files</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">├── time/</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">├── units/</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">└── ...</span><br/></span></code></pre></div></div>
<p><strong>astroquery's template pattern:</strong>
Every service module follows an identical structure:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token plain">astroquery/</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">├── simbad/</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   ├── __init__.py</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   ├── core.py      # Inherits from BaseQuery</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">│   └── tests/</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">├── vizier/</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">└── template/        # Copy this for new modules</span><br/></span></code></pre></div></div>
<p><strong>Lesson for starward:</strong></p>
<ul>
<li class="">✅ Already follows this pattern (<code>core/</code>, <code>cli/</code>, <code>output/</code>)</li>
<li class="">Consider adding a <code>template/</code> module for contributors</li>
<li class="">Keep tests alongside modules (currently in separate <code>tests/</code> tree—both approaches are valid)</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=2-base-class-pattern-astroquery>2. Base Class Pattern (astroquery)<a href=#2-base-class-pattern-astroquery class=hash-link aria-label="Direct link to 2. Base Class Pattern (astroquery)" title="Direct link to 2. Base Class Pattern (astroquery)" translate=no>​</a></h3>
<p>astroquery uses <code>BaseQuery</code> that all service classes inherit:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> astroquery</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">query </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> BaseQuery</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>class</span><span class="token plain"> </span><span class="token class-name" style=color:#e6eaef>SimbadClass</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">BaseQuery</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""All queries inherit common functionality."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>query_object</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">self</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> object_name</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token comment" style=color:#44515e># Delegates to async version</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>query_object_async</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">self</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> object_name</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token comment" style=color:#44515e># Actual HTTP request</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        response </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> self</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">_request</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token string" style=color:#addbbc>'GET'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> url</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> params</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain">params</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token keyword" style=color:#228a96>return</span><span class="token plain"> self</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">_parse_result</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">response</span><span class="token punctuation" style=color:#7a8b99>)</span><br/></span></code></pre></div></div>
<p><strong>Lesson for starward:</strong>
Consider a <code>BaseCalculation</code> pattern for verbose output:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token keyword" style=color:#228a96>class</span><span class="token plain"> </span><span class="token class-name" style=color:#e6eaef>BaseCalculation</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Base for calculations that support verbose output."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>__init__</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">self</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> verbose_context</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token boolean" style=color:#61bcc6>None</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        self</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">verbose </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> verbose_context</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>step</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">self</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> name</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> formula</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> result</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Record a calculation step."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token keyword" style=color:#228a96>if</span><span class="token plain"> self</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">verbose</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">            self</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">verbose</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">add_step</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">name</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> formula</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> result</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token keyword" style=color:#228a96>return</span><span class="token plain"> result</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=3-lazy-import-strategy>3. Lazy Import Strategy<a href=#3-lazy-import-strategy class=hash-link aria-label="Direct link to 3. Lazy Import Strategy" title="Direct link to 3. Lazy Import Strategy" translate=no>​</a></h3>
<p><strong>astropy's approach:</strong>
Core package is importable with minimal dependencies. Heavy subpackages load on demand:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># Fast: only loads core</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> astropy</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token comment" style=color:#44515e># Slow: loads coordinates machinery</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> astropy</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">coordinates </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> SkyCoord</span><br/></span></code></pre></div></div>
<p><strong>Lesson for starward:</strong></p>
<ul>
<li class="">✅ Already doing this with Click's lazy command loading</li>
<li class="">Consider lazy loading for heavy data (NGC catalog, star catalogs)</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># starward/core/catalogs/__init__.py</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>get_ngc</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Load NGC catalog on first access."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">ngc_data </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> NGC_CATALOG</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>return</span><span class="token plain"> NGC_CATALOG</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=4-optional-dependencies-pattern>4. Optional Dependencies Pattern<a href=#4-optional-dependencies-pattern class=hash-link aria-label="Direct link to 4. Optional Dependencies Pattern" title="Direct link to 4. Optional Dependencies Pattern" translate=no>​</a></h3>
<p><strong>astropy's approach:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># astropy/utils/compat/optional_deps.py</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>try</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> scipy</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    HAS_SCIPY </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token boolean" style=color:#61bcc6>True</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>except</span><span class="token plain"> ImportError</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    HAS_SCIPY </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token boolean" style=color:#61bcc6>False</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token comment" style=color:#44515e># In tests</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>skipif</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token keyword" style=color:#228a96>not</span><span class="token plain"> HAS_SCIPY</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> reason</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token string" style=color:#addbbc>'scipy required'</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>test_that_uses_scipy</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><br/></span></code></pre></div></div>
<p><strong>Lesson for starward:</strong>
Prepare for optional astropy/astroquery integration:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># starward/compat.py</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>try</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> astropy</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">coordinates </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> SkyCoord</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    HAS_ASTROPY </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token boolean" style=color:#61bcc6>True</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>except</span><span class="token plain"> ImportError</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    HAS_ASTROPY </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token boolean" style=color:#61bcc6>False</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>try</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> astroquery</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">simbad </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> Simbad</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    HAS_ASTROQUERY </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token boolean" style=color:#61bcc6>True</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>except</span><span class="token plain"> ImportError</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    HAS_ASTROQUERY </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token boolean" style=color:#61bcc6>False</span><br/></span></code></pre></div></div>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=testing-lessons-from-astropy>Testing Lessons from astropy<a href=#testing-lessons-from-astropy class=hash-link aria-label="Direct link to Testing Lessons from astropy" title="Direct link to Testing Lessons from astropy" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=1-test-categories-markers>1. Test Categories (Markers)<a href=#1-test-categories-markers class=hash-link aria-label="Direct link to 1. Test Categories (Markers)" title="Direct link to 1. Test Categories (Markers)" translate=no>​</a></h3>
<p><strong>astropy's markers:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>slow</span><span class="token plain">           </span><span class="token comment" style=color:#44515e># Long-running tests</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>remote_data</span><span class="token plain">    </span><span class="token comment" style=color:#44515e># Requires network</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>filterwarnings</span><span class="token plain"> </span><span class="token comment" style=color:#44515e># Expected warnings</span><br/></span></code></pre></div></div>
<p><strong>starward's current markers:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>slow</span><span class="token plain">      </span><span class="token comment" style=color:#44515e># ✅ Already have</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>golden</span><span class="token plain">    </span><span class="token comment" style=color:#44515e># ✅ Tests against known values</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>roundtrip</span><span class="token plain"> </span><span class="token comment" style=color:#44515e># ✅ Transform/inverse identity</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>edge</span><span class="token plain">      </span><span class="token comment" style=color:#44515e># ✅ Edge cases</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>verbose</span><span class="token plain">   </span><span class="token comment" style=color:#44515e># ✅ Verbose output tests</span><br/></span></code></pre></div></div>
<p><strong>Additional markers to consider:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>remote</span><span class="token plain">    </span><span class="token comment" style=color:#44515e># For future astroquery integration tests</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>catalog</span><span class="token plain">   </span><span class="token comment" style=color:#44515e># Tests requiring large catalog data</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=2-golden-test-pattern>2. Golden Test Pattern<a href=#2-golden-test-pattern class=hash-link aria-label="Direct link to 2. Golden Test Pattern" title="Direct link to 2. Golden Test Pattern" translate=no>​</a></h3>
<p><strong>astropy validates against:</strong></p>
<ul>
<li class="">JPL Horizons ephemerides</li>
<li class="">IAU SOFA reference implementations</li>
<li class="">USNO almanac data</li>
</ul>
<p><strong>starward should:</strong></p>
<ul>
<li class="">✅ Already validates against JPL Horizons, USNO, Meeus</li>
<li class="">Document the golden values with sources</li>
<li class="">Add date stamps to golden tests (values can change with new data)</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>golden</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>test_mars_position_j2000</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    Golden test: Mars position at J2000.0</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    Source: JPL Horizons, retrieved 2024-01-15</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    Target: Mars (499), Observer: @sun</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    """</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    jd </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> JulianDate</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token number" style=color:#61bcc6>2451545.0</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    pos </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> planet_position</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">Planet</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">MARS</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> jd</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token comment" style=color:#44515e># Expected from JPL Horizons</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>assert</span><span class="token plain"> </span><span class="token builtin" style=color:#addbbc>abs</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">pos</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">helio_longitude</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">degrees </span><span class="token operator" style=color:#aeb9c4>-</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>327.832</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>&lt;</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>0.01</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=3-parametrized-testing>3. Parametrized Testing<a href=#3-parametrized-testing class=hash-link aria-label="Direct link to 3. Parametrized Testing" title="Direct link to 3. Parametrized Testing" translate=no>​</a></h3>
<p><strong>astropy uses extensively:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>parametrize</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token string" style=color:#addbbc>'frame'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token string" style=color:#addbbc>'icrs'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token string" style=color:#addbbc>'galactic'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token string" style=color:#addbbc>'fk5'</span><span class="token punctuation" style=color:#7a8b99>]</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>parametrize</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token string" style=color:#addbbc>'angle'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token number" style=color:#61bcc6>0</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>90</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>180</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>270</span><span class="token punctuation" style=color:#7a8b99>]</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>test_coordinate_transforms</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">frame</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> angle</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><br/></span></code></pre></div></div>
<p><strong>starward's conftest.py provides:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token plain">STANDARD_ANGLES </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token number" style=color:#61bcc6>0</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>1</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>30</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>45</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>60</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>89.9</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>90</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">STANDARD_LATITUDES </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token operator" style=color:#aeb9c4>-</span><span class="token number" style=color:#61bcc6>90</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>-</span><span class="token number" style=color:#61bcc6>66.5</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>-</span><span class="token number" style=color:#61bcc6>45</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>-</span><span class="token number" style=color:#61bcc6>23.5</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>0</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>]</span><br/></span></code></pre></div></div>
<p><strong>Expand to:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token plain">STANDARD_JULIAN_DATES </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token number" style=color:#61bcc6>2451545.0</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain">    </span><span class="token comment" style=color:#44515e># J2000.0</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token number" style=color:#61bcc6>2440587.5</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain">    </span><span class="token comment" style=color:#44515e># Unix epoch</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token number" style=color:#61bcc6>2459580.5</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain">    </span><span class="token comment" style=color:#44515e># Recent date</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token punctuation" style=color:#7a8b99>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">STANDARD_PLANETS </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> </span><span class="token builtin" style=color:#addbbc>list</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">Planet</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>parametrize</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token string" style=color:#addbbc>'jd'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> STANDARD_JULIAN_DATES</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>mark</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>parametrize</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token string" style=color:#addbbc>'planet'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> STANDARD_PLANETS</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>test_planet_positions_valid</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">jd</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> planet</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""All planets return valid positions for all test dates."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    pos </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> planet_position</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">planet</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> JulianDate</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">jd</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>assert</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>0</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>&lt;=</span><span class="token plain"> pos</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">ra</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">degrees </span><span class="token operator" style=color:#aeb9c4>&lt;</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>360</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>assert</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>-</span><span class="token number" style=color:#61bcc6>90</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>&lt;=</span><span class="token plain"> pos</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">dec</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">degrees </span><span class="token operator" style=color:#aeb9c4>&lt;=</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>90</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=4-property-based-testing-hypothesis>4. Property-Based Testing (Hypothesis)<a href=#4-property-based-testing-hypothesis class=hash-link aria-label="Direct link to 4. Property-Based Testing (Hypothesis)" title="Direct link to 4. Property-Based Testing (Hypothesis)" translate=no>​</a></h3>
<p><strong>astropy uses Hypothesis for:</strong></p>
<ul>
<li class="">Numerical stability across random inputs</li>
<li class="">Edge case discovery</li>
<li class="">Invariant verification</li>
</ul>
<p><strong>Lesson for starward:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> hypothesis </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> given</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> strategies </span><span class="token keyword" style=color:#228a96>as</span><span class="token plain"> st</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@given</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">st</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">floats</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">min_value</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token number" style=color:#61bcc6>0</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> max_value</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token number" style=color:#61bcc6>360</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>test_angle_normalization_idempotent</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">deg</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Normalizing a normalized angle returns the same value."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    angle </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> Angle</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">degrees</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain">deg</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">normalize</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>assert</span><span class="token plain"> angle</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">normalize</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">degrees </span><span class="token operator" style=color:#aeb9c4>==</span><span class="token plain"> angle</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">degrees</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@given</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">st</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">floats</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">min_value</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token number" style=color:#61bcc6>2400000</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> max_value</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token number" style=color:#61bcc6>2500000</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>test_jd_roundtrip</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">jd_value</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""JD → UTC → JD roundtrip preserves value."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    jd </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> JulianDate</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">jd_value</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    utc </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> jd</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">to_utc</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    jd2 </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> JulianDate</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">from_utc</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">utc</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>assert</span><span class="token plain"> </span><span class="token builtin" style=color:#addbbc>abs</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">jd</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">jd </span><span class="token operator" style=color:#aeb9c4>-</span><span class="token plain"> jd2</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">jd</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"> </span><span class="token operator" style=color:#aeb9c4>&lt;</span><span class="token plain"> </span><span class="token number" style=color:#61bcc6>1e-9</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=5-doctest-integration>5. Doctest Integration<a href=#5-doctest-integration class=hash-link aria-label="Direct link to 5. Doctest Integration" title="Direct link to 5. Doctest Integration" translate=no>​</a></h3>
<p><strong>astropy embeds examples in docstrings:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>angular_separation</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">ra1</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> dec1</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> ra2</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> dec2</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    Calculate angular separation.</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=display:inline-block;color:#addbbc></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    Examples</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    --------</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    >>> from starward.core.angles import angular_separation, Angle</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    >>> sep = angular_separation(</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    ...     Angle(degrees=0), Angle(degrees=0),</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    ...     Angle(degrees=1), Angle(degrees=0)</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    ... )</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    >>> abs(sep.degrees - 1.0) &lt; 0.0001</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    True</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token triple-quoted-string string" style=color:#addbbc>    """</span><br/></span></code></pre></div></div>
<p><strong>Enable in pytest:</strong></p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token plain"># pyproject.toml</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">[tool.pytest.ini_options]</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">addopts = "--doctest-modules"</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=6-fixture-organization-starward-already-excellent>6. Fixture Organization (starward already excellent)<a href=#6-fixture-organization-starward-already-excellent class=hash-link aria-label="Direct link to 6. Fixture Organization (starward already excellent)" title="Direct link to 6. Fixture Organization (starward already excellent)" translate=no>​</a></h3>
<p>starward's <code>conftest.py</code> demonstrates best practices:</p>
<ul>
<li class=""><strong>Tolerance fixtures</strong>: <code>angle_tolerance</code>, <code>time_tolerance</code></li>
<li class=""><strong>Domain fixtures</strong>: <code>greenwich</code>, <code>mauna_kea</code>, <code>famous_stars</code></li>
<li class=""><strong>Assertion helpers</strong>: <code>assert_angle_close</code>, <code>assert_coord_close</code></li>
<li class=""><strong>Parameterized data</strong>: <code>STANDARD_ANGLES</code>, <code>STANDARD_LATITUDES</code></li>
</ul>
<p><strong>Additional patterns to adopt:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>fixture</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">scope</span><span class="token operator" style=color:#aeb9c4>=</span><span class="token string" style=color:#addbbc>"session"</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>ngc_catalog</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Load NGC catalog once per test session."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> starward</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">core</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">catalogs </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> load_ngc</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>return</span><span class="token plain"> load_ngc</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token decorator annotation punctuation" style=color:#7a8b99>@pytest</span><span class="token decorator annotation punctuation" style=color:#7a8b99>.</span><span class="token decorator annotation punctuation" style=color:#7a8b99>fixture</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>tmp_observer_config</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">tmp_path</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Temporary observer config for isolation."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    config_file </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> tmp_path </span><span class="token operator" style=color:#aeb9c4>/</span><span class="token plain"> </span><span class="token string" style=color:#addbbc>"observers.toml"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>yield</span><span class="token plain"> config_file</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token comment" style=color:#44515e># Cleanup happens automatically</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=7-test-data-management>7. Test Data Management<a href=#7-test-data-management class=hash-link aria-label="Direct link to 7. Test Data Management" title="Direct link to 7. Test Data Management" translate=no>​</a></h3>
<p><strong>astropy's approach:</strong></p>
<ul>
<li class=""><code>get_pkg_data_filename()</code> - finds test data files</li>
<li class="">Remote data cached locally with MD5 verification</li>
<li class=""><code>@pytest.mark.remote_data</code> for network tests</li>
</ul>
<p><strong>Lesson for starward:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># starward/tests/data/</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token comment" style=color:#44515e>#   golden_values.json      # Known-good values</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token comment" style=color:#44515e>#   jpl_horizons_mars.json  # JPL reference data</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>get_test_data</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">filename</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token triple-quoted-string string" style=color:#addbbc>"""Load test data file."""</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> json</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>from</span><span class="token plain"> pathlib </span><span class="token keyword" style=color:#228a96>import</span><span class="token plain"> Path</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    data_dir </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> Path</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">__file__</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">parent </span><span class="token operator" style=color:#aeb9c4>/</span><span class="token plain"> </span><span class="token string" style=color:#addbbc>"data"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token keyword" style=color:#228a96>with</span><span class="token plain"> </span><span class="token builtin" style=color:#addbbc>open</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">data_dir </span><span class="token operator" style=color:#aeb9c4>/</span><span class="token plain"> filename</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"> </span><span class="token keyword" style=color:#228a96>as</span><span class="token plain"> f</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">        </span><span class="token keyword" style=color:#228a96>return</span><span class="token plain"> json</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token plain">load</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token plain">f</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token comment" style=color:#44515e># Usage</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token keyword" style=color:#228a96>def</span><span class="token plain"> </span><span class="token function" style=color:#e6eaef>test_mars_against_jpl</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    jpl_data </span><span class="token operator" style=color:#aeb9c4>=</span><span class="token plain"> get_test_data</span><span class="token punctuation" style=color:#7a8b99>(</span><span class="token string" style=color:#addbbc>"jpl_horizons_mars.json"</span><span class="token punctuation" style=color:#7a8b99>)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><span class="token punctuation" style=color:#7a8b99>.</span><br/></span></code></pre></div></div>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=cicd-lessons>CI/CD Lessons<a href=#cicd-lessons class=hash-link aria-label="Direct link to CI/CD Lessons" title="Direct link to CI/CD Lessons" translate=no>​</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=1-multi-platform-testing>1. Multi-Platform Testing<a href=#1-multi-platform-testing class=hash-link aria-label="Direct link to 1. Multi-Platform Testing" title="Direct link to 1. Multi-Platform Testing" translate=no>​</a></h3>
<p><strong>astropy tests on:</strong></p>
<ul>
<li class="">Linux (Ubuntu)</li>
<li class="">macOS</li>
<li class="">Windows</li>
<li class="">Multiple Python versions (3.10, 3.11, 3.12)</li>
</ul>
<p><strong>Recommendation for starward:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token comment" style=color:#44515e># .github/workflows/test.yml</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain"></span><span class="token key atrule" style=color:#228a96>strategy</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  </span><span class="token key atrule" style=color:#228a96>matrix</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token key atrule" style=color:#228a96>os</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token plain">ubuntu</span><span class="token punctuation" style=color:#7a8b99>-</span><span class="token plain">latest</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> macos</span><span class="token punctuation" style=color:#7a8b99>-</span><span class="token plain">latest</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> windows</span><span class="token punctuation" style=color:#7a8b99>-</span><span class="token plain">latest</span><span class="token punctuation" style=color:#7a8b99>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token key atrule" style=color:#228a96>python-version</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>[</span><span class="token string" style=color:#addbbc>'3.10'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token string" style=color:#addbbc>'3.11'</span><span class="token punctuation" style=color:#7a8b99>,</span><span class="token plain"> </span><span class="token string" style=color:#addbbc>'3.12'</span><span class="token punctuation" style=color:#7a8b99>]</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=2-coverage-enforcement>2. Coverage Enforcement<a href=#2-coverage-enforcement class=hash-link aria-label="Direct link to 2. Coverage Enforcement" title="Direct link to 2. Coverage Enforcement" translate=no>​</a></h3>
<p><strong>astropy tracks coverage per subpackage.</strong></p>
<p><strong>Recommendation:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token punctuation" style=color:#7a8b99>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#228a96>name</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> Upload coverage</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  </span><span class="token key atrule" style=color:#228a96>uses</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> codecov/codecov</span><span class="token punctuation" style=color:#7a8b99>-</span><span class="token plain">action@v4</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  </span><span class="token key atrule" style=color:#228a96>with</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token key atrule" style=color:#228a96>fail_ci_if_error</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> </span><span class="token boolean important" style=color:#6ba77f>true</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">    </span><span class="token key atrule" style=color:#228a96>threshold</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> 90%</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=3-documentation-testing>3. Documentation Testing<a href=#3-documentation-testing class=hash-link aria-label="Direct link to 3. Documentation Testing" title="Direct link to 3. Documentation Testing" translate=no>​</a></h3>
<p><strong>astropy builds docs in CI and fails on warnings.</strong></p>
<p><strong>Recommendation:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#aeb9c4;--prism-background-color:#0d1013><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#aeb9c4;background-color:#0d1013><code class=codeBlockLines_e6Vv><span class=token-line style=color:#aeb9c4><span class="token punctuation" style=color:#7a8b99>-</span><span class="token plain"> </span><span class="token key atrule" style=color:#228a96>name</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> Build docs</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  </span><span class="token key atrule" style=color:#228a96>run</span><span class="token punctuation" style=color:#7a8b99>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#7a8b99>|</span><span class="token scalar string" style=color:#addbbc></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token scalar string" style=color:#addbbc>    cd website</span><br/></span><span class=token-line style=color:#aeb9c4><span class="token scalar string" style=color:#addbbc>    npm run build</span><span class="token plain"></span><br/></span><span class=token-line style=color:#aeb9c4><span class="token plain">  </span><span class="token comment" style=color:#44515e># Fail on broken links, missing refs</span><br/></span></code></pre></div></div>
<hr/>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id=summary-what-to-adopt>Summary: What to Adopt<a href=#summary-what-to-adopt class=hash-link aria-label="Direct link to Summary: What to Adopt" title="Direct link to Summary: What to Adopt" translate=no>​</a></h2>
<table><thead><tr><th>Pattern<th>Priority<th>Effort<th>Value<tbody><tr><td>Property-based testing (Hypothesis)<td>High<td>Low<td>Catches edge cases<tr><td>Golden test documentation<td>High<td>Low<td>Traceability<tr><td>Parametrized test expansion<td>Medium<td>Low<td>Coverage<tr><td>Optional dependency pattern<td>High<td>Medium<td>Future integration<tr><td>Doctest integration<td>Medium<td>Low<td>Living docs<tr><td>Multi-platform CI<td>High<td>Medium<td>Reliability<tr><td>Session-scoped fixtures for catalogs<td>Medium<td>Low<td>Test speed<tr><td><code>@pytest.mark.remote</code> for future<td>Low<td>Low<td>Preparation</table>
<p><strong>Sources:</strong></p>
<ul>
<li class=""><a href=https://docs.astropy.org/en/stable/development/testguide.html target=_blank rel="noopener noreferrer" class="">astropy Testing Guide</a></li>
<li class=""><a href=https://astroquery.readthedocs.io/en/latest/template.html target=_blank rel="noopener noreferrer" class="">astroquery Template Module</a></li>
<li class=""><a href=https://github.com/astropy/astroquery/blob/main/CONTRIBUTING.rst target=_blank rel="noopener noreferrer" class="">astroquery Contributing Guide</a></li>
<li class=""><a href=https://www.astropy.org/affiliated/ target=_blank rel="noopener noreferrer" class="">Astropy Affiliated Packages</a></li>
</ul>
<hr/>
<p><em>Analysis prepared for starward v0.3.0 ecosystem positioning</em></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href=https://github.com/oddurs/starward/tree/master/../docs/ecosystem-analysis.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2026-01-13T19:37:13.000Z itemprop=dateModified>Jan 13, 2026</time></b> by <b>Oddur Sigurdsson</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#executive-summary class="table-of-contents__link toc-highlight">Executive Summary</a><li><a href=#the-ecosystem-players class="table-of-contents__link toc-highlight">The Ecosystem Players</a><ul><li><a href=#astropy-v720 class="table-of-contents__link toc-highlight">astropy (v7.2.0)</a><li><a href=#astroquery-v0411 class="table-of-contents__link toc-highlight">astroquery (v0.4.11)</a><li><a href=#starward-v030 class="table-of-contents__link toc-highlight">starward (v0.3.0)</a></ul><li><a href=#compatibility--integration-analysis class="table-of-contents__link toc-highlight">Compatibility & Integration Analysis</a><ul><li><a href=#starward--astropy class="table-of-contents__link toc-highlight">starward + astropy</a><li><a href=#starward--astroquery class="table-of-contents__link toc-highlight">starward + astroquery</a></ul><li><a href=#how-starward-differentiates class="table-of-contents__link toc-highlight">How starward Differentiates</a><ul><li><a href=#1-transparency-show-your-work class="table-of-contents__link toc-highlight">1. Transparency ("Show Your Work")</a><li><a href=#2-zero-compiled-dependencies class="table-of-contents__link toc-highlight">2. Zero Compiled Dependencies</a><li><a href=#3-cli-first-design class="table-of-contents__link toc-highlight">3. CLI-First Design</a><li><a href=#4-educational-focus class="table-of-contents__link toc-highlight">4. Educational Focus</a></ul><li><a href=#feature-comparison-matrix class="table-of-contents__link toc-highlight">Feature Comparison Matrix</a><li><a href=#strategic-recommendations class="table-of-contents__link toc-highlight">Strategic Recommendations</a><ul><li><a href=#1-embrace-the-niche class="table-of-contents__link toc-highlight">1. Embrace the Niche</a><li><a href=#2-optional-integration-not-dependency class="table-of-contents__link toc-highlight">2. Optional Integration, Not Dependency</a><li><a href=#3-features-to-implement-natively class="table-of-contents__link toc-highlight">3. Features to Implement Natively</a><li><a href=#4-features-to-delegate-to-astroquery class="table-of-contents__link toc-highlight">4. Features to Delegate to astroquery</a><li><a href=#5-features-to-not-implement class="table-of-contents__link toc-highlight">5. Features to NOT Implement</a></ul><li><a href=#proposed-integration-architecture class="table-of-contents__link toc-highlight">Proposed Integration Architecture</a><li><a href=#versioning-strategy class="table-of-contents__link toc-highlight">Versioning Strategy</a><li><a href=#conclusion class="table-of-contents__link toc-highlight">Conclusion</a><li><a href=#architectural-lessons-from-astropyastroquery class="table-of-contents__link toc-highlight">Architectural Lessons from astropy/astroquery</a><ul><li><a href=#1-module-organization-pattern class="table-of-contents__link toc-highlight">1. Module Organization Pattern</a><li><a href=#2-base-class-pattern-astroquery class="table-of-contents__link toc-highlight">2. Base Class Pattern (astroquery)</a><li><a href=#3-lazy-import-strategy class="table-of-contents__link toc-highlight">3. Lazy Import Strategy</a><li><a href=#4-optional-dependencies-pattern class="table-of-contents__link toc-highlight">4. Optional Dependencies Pattern</a></ul><li><a href=#testing-lessons-from-astropy class="table-of-contents__link toc-highlight">Testing Lessons from astropy</a><ul><li><a href=#1-test-categories-markers class="table-of-contents__link toc-highlight">1. Test Categories (Markers)</a><li><a href=#2-golden-test-pattern class="table-of-contents__link toc-highlight">2. Golden Test Pattern</a><li><a href=#3-parametrized-testing class="table-of-contents__link toc-highlight">3. Parametrized Testing</a><li><a href=#4-property-based-testing-hypothesis class="table-of-contents__link toc-highlight">4. Property-Based Testing (Hypothesis)</a><li><a href=#5-doctest-integration class="table-of-contents__link toc-highlight">5. Doctest Integration</a><li><a href=#6-fixture-organization-starward-already-excellent class="table-of-contents__link toc-highlight">6. Fixture Organization (starward already excellent)</a><li><a href=#7-test-data-management class="table-of-contents__link toc-highlight">7. Test Data Management</a></ul><li><a href=#cicd-lessons class="table-of-contents__link toc-highlight">CI/CD Lessons</a><ul><li><a href=#1-multi-platform-testing class="table-of-contents__link toc-highlight">1. Multi-Platform Testing</a><li><a href=#2-coverage-enforcement class="table-of-contents__link toc-highlight">2. Coverage Enforcement</a><li><a href=#3-documentation-testing class="table-of-contents__link toc-highlight">3. Documentation Testing</a></ul><li><a href=#summary-what-to-adopt class="table-of-contents__link toc-highlight">Summary: What to Adopt</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Documentation</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/getting-started/installation>Getting Started</a><li class=footer__item><a class=footer__link-item href=/docs/cli-reference/overview>CLI Reference</a><li class=footer__item><a class=footer__link-item href=/docs/python-api/overview>Python API</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Development</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs/development/contributing>Contributing</a><li class=footer__item><a class=footer__link-item href=/docs/development/testing>Testing</a><li class=footer__item><a class=footer__link-item href=/docs/development/cheatsheet>Cheatsheet</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/oddurs/starward/issues target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub Issues<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/oddurs/starward target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://pypi.org/project/starward/ target=_blank rel="noopener noreferrer" class=footer__link-item>PyPI<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright 2026 starward contributors. Built with Docusaurus.</div></div></div></footer></div></body>